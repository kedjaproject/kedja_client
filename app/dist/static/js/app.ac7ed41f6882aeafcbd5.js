webpackJsonp([1],{"/jfn":function(t,e){},"0XIw":function(t,e){},"13nz":function(t,e){},"2l1a":function(t,e){},"3/Hr":function(t,e){},"3G/U":function(t,e){},"5EnU":function(t,e){},"9Jhm":function(t,e){},FqKH:function(t,e){},LOFr:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"KedjaLogo"},[e("router-link",{attrs:{to:{name:"Home",params:{}}}},[this._v("\n    KEDJA.\n  ")])],1)},staticRenderFns:[]};var i=n("VU/8")({name:"KedjaLogo",data:function(){return{}},props:{},computed:{},methods:{},mounted:function(){}},a,!1,function(t){n("v0MC")},"data-v-3b28c041",null).exports,s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DropDown"},[n("div",{staticClass:"toggle",on:{click:t.toggleList}},[t._t("default")],2),t._v(" "),n("div",{staticClass:"listContainer"},[n("div",{staticClass:"list",class:{open:t.open}},t._l(t.items,function(e,o){return n("div",{key:o,staticClass:"listItem",on:{click:function(n){return t.performFunction(e.f)}}},[t._v("\n        "+t._s(e.label)+"\n      ")])}),0)])])},staticRenderFns:[]};var r=n("VU/8")({name:"DropDown",data:function(){return{open:!1}},props:{items:""},computed:{},methods:{toggleList:function(){this.open=!this.open},performFunction:function(t){t&&t()}},mounted:function(){}},s,!1,function(t){n("WkPT")},"data-v-1f5e0a64",null).exports,c={name:"KedjaHeader",components:{KedjaLogo:i,DropDown:r},data:function(){return{}},props:{},computed:{userState:function(){return this.$store.getters.getUserState},userData:function(){return this.$store.getters.getUserData},userFullName:function(){if(this.userData.first_name&&this.userData.last_name)return this.userData.first_name+" "+this.userData.last_name}},methods:{goToProfile:function(t){this.$router.push({name:"Profile"})},goToWalls:function(t){this.$router.push({name:"Walls"})},logout:function(t){var e=this,n={endpoint:"auth/logout",method:"post",successCallback:function(t){e.$store.dispatch("logout"),e.$router.push({name:"Login"})}};this.$store.commit("makeAPICall",n)}},mounted:function(){}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"KedjaHeader"},[n("kedja-logo"),t._v(" "),n("div",{staticClass:"slot"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"user"},[t.userData.userid?n("div",[n("drop-down",{attrs:{items:[{label:"Min profil",f:t.goToProfile},{label:"Mina väggar",f:t.goToWalls},{label:"Logga ut",f:t.logout}]}},[n("div",{staticClass:"right"},[n("router-link",{attrs:{to:{name:"Profile"}}},[t.userFullName.length?n("span",[t._v(t._s(t.userFullName))]):n("span",[t._v("Inloggad användare")])])],1)])],1):n("div",{staticClass:"right"},[n("router-link",{attrs:{to:{name:"Login"}}},[t._v("Logga in")])],1)])],1)},staticRenderFns:[]};var d=n("VU/8")(c,l,!1,function(t){n("/jfn")},"data-v-19769663",null).exports,u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"KedjaHeader"})},staticRenderFns:[]};var m={name:"App",components:{KedjaHeader:d,KedjaFooter:n("VU/8")({name:"KedjaHeader",data:function(){return{}},props:{},computed:{},methods:{},mounted:function(){}},u,!1,function(t){n("13nz")},"data-v-29106db2",null).exports},data:function(){return{env:Object({NODE_ENV:"production",API_SERVER:"https://staging-server.kedja.org",API_PATH:"/api/1/"})}},created:function(){this.$store.commit("init",{env:this.env})},mounted:function(){document.activeElement.blur()}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{id:"router"}}),this._v(" "),e("kedja-footer",{attrs:{id:"footer"}})],1)},staticRenderFns:[]};var h=n("VU/8")(m,f,!1,function(t){n("hTvv")},null,null).exports,g=n("/ocq"),v={name:"ViewHome",components:{KedjaHeader:d},data:function(){return{}},props:{},computed:{userData:function(){return this.$store.getters.getUserData}},methods:{loggedIn:function(){this.userData.userid?this.$router.push({name:"Walls"}):this.$router.push({name:"Login"})}},created:function(){this.loggedIn()},mounted:function(){}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ViewHome"},[e("kedja-header"),this._v(" "),e("div",{staticClass:"viewContent"},[this._v("\n    HEM\n  ")])],1)},staticRenderFns:[]};var C=n("VU/8")(v,p,!1,function(t){n("0XIw")},"data-v-7e5e27ee",null).exports,_={name:"ViewLogin",components:{KedjaHeader:d},data:function(){return{email:"",pass:"",methods:""}},props:{},computed:{userData:function(){return this.$store.getters.getUserData}},methods:{loginUrl:function(t){return t.url+"?came_from="+window.location.origin},getLoginMethods:function(){var t=this,e={endpoint:"auth/methods",successCallback:function(e){t.methods=e.data}};this.$store.commit("makeAPICall",e)},loggedIn:function(){this.userData.userid&&this.$router.push({name:"Home"})}},created:function(){this.loggedIn()},mounted:function(){this.getLoginMethods()}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ViewLogin"},[n("kedja-header"),t._v(" "),n("div",{staticClass:"viewContent"},[n("h1",[t._v("\n      KEDJA.\n    ")]),t._v(" "),n("h3",[t._v("Logga in / Registrera nytt konto med")]),t._v(" "),t._l(t.methods,function(e,o){return n("h2",{key:o},[n("a",{attrs:{href:t.loginUrl(e)}},[t._v(t._s(e.title))])])})],2)],1)},staticRenderFns:[]};var y=n("VU/8")(_,w,!1,function(t){n("9Jhm")},"data-v-3c13d046",null).exports,b={name:"ViewLoggingIn",components:{KedjaHeader:d},data:function(){return{}},props:{},computed:{auth:function(){return this.$store.getters.getAuth},userid:function(){return this.$route.query.u},token:function(){return this.$route.query.t}},methods:{login:function(){var t=this,e={endpoint:"auth/credentials/"+this.userid+"/"+this.token,method:"post",successCallback:function(e){console.log(e),t.$store.dispatch("login",{auth:e.data.Authorization,userid:e.data.userid,first_name:e.data.user.data.first_name,last_name:e.data.user.data.last_name}),t.$router.push({name:"Home"})}};this.$store.commit("makeAPICall",e)}},created:function(){},mounted:function(){this.login()}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ViewLoggingIn"},[e("kedja-header"),this._v(" "),e("div",{staticClass:"viewContent"},[this._v("\n    Du loggas in.\n  ")])],1)},staticRenderFns:[]};var I=n("VU/8")(b,$,!1,function(t){n("Ntpp")},"data-v-7efb212d",null).exports,k={name:"ViewRegister",components:{KedjaHeader:d},data:function(){return{}},props:{},computed:{registerToken:function(){return this.$route.query.t}},methods:{register:function(){var t=this,e={endpoint:"auth/register/"+this.registerToken,method:"post",successCallback:function(e){console.log(e),t.$store.dispatch("login",{auth:e.data.Authorization,userid:e.data.userid,first_name:e.data.user.data.first_name,last_name:e.data.user.data.last_name}),t.$router.push({name:"Home"})}};this.$store.commit("makeAPICall",e)}},created:function(){},mounted:function(){}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ViewRegister"},[n("kedja-header"),t._v(" "),n("div",{staticClass:"viewContent"},[n("h2",[t._v("Registrera nytt konto")]),t._v(" "),n("p",[t._v("\n      Du behöver registrera ett konto på Kedja för att fortsätta inloggningen.\n    ")]),t._v(" "),t._m(0),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[t._m(1),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Sälj min själ")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:""}},[this._v("Läs användaravtal")]),this._v(" för registrering och användning av Kedja.\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("input",{attrs:{type:"checkbox"}}),this._v(" Jag går med på allt.\n      ")])}]};var D=n("VU/8")(k,x,!1,function(t){n("3/Hr")},"data-v-db334b12",null).exports,E={name:"ViewProfile",components:{KedjaHeader:d},data:function(){return{userDataEditable:""}},props:{},computed:{userData:function(){return this.$store.getters.getUserData}},methods:{getUserProfile:function(){var t=this,e={endpoint:"users/"+this.userData.userid,successCallback:function(e){t.userDataEditable=e.data.data}};this.$store.commit("makeAPICall",e)},updateProfile:function(){var t=this,e={endpoint:"users/"+this.userData.userid,method:"put",data:{first_name:this.userDataEditable.first_name,last_name:this.userDataEditable.last_name},successCallback:function(e){t.$store.dispatch("setUserData",{field:"first_name",value:e.data.data.first_name}),t.$store.dispatch("setUserData",{field:"last_name",value:e.data.data.last_name})}};this.$store.commit("makeAPICall",e)}},created:function(){},mounted:function(){this.getUserProfile()}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ViewProfile"},[n("kedja-header"),t._v(" "),n("div",{staticClass:"viewContent"},[t._v("\n    Du är inloggad som\n\n    "),n("h2",[t._v("\n      "+t._s(t.userData.first_name)+" "+t._s(t.userData.last_name)+"\n    ")]),t._v(" "),n("h3",[t._v("Uppdatera profil")]),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.updateProfile(e)}}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userDataEditable.first_name,expression:"userDataEditable.first_name"}],attrs:{type:"text",placeholder:"Förnamn"},domProps:{value:t.userDataEditable.first_name},on:{input:function(e){e.target.composing||t.$set(t.userDataEditable,"first_name",e.target.value)}}})]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userDataEditable.last_name,expression:"userDataEditable.last_name"}],attrs:{type:"text",placeholder:"Efternamn"},domProps:{value:t.userDataEditable.last_name},on:{input:function(e){e.target.composing||t.$set(t.userDataEditable,"last_name",e.target.value)}}})]),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("Spara ändringar")])])])],1)},staticRenderFns:[]};var B=n("VU/8")(E,S,!1,function(t){n("2l1a")},"data-v-76dd88c7",null).exports,P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"RouterLinkBox",style:{"background-color":this.color}},[e("router-link",{staticClass:"link",attrs:{to:this.to}},[this._t("default")],2)],1)},staticRenderFns:[]};var U={name:"ViewWallList",components:{KedjaHeader:d,RouterLinkBox:n("VU/8")({name:"RouterLinkBox",data:function(){return{}},props:{text:"",color:"",to:""},computed:{},methods:{},mounted:function(){}},P,!1,function(t){n("FqKH")},"data-v-3f599614",null).exports},data:function(){return{}},props:{},computed:{walls:function(){return this.$store.getters["walls/all"]}},methods:{getWalls:function(){var t=this,e={endpoint:"walls",successCallback:function(e){t.walls=e.data}};this.$store.commit("makeAPICall",e)},getWallsStore:function(){this.$store.dispatch("walls/getWalls")},createWall:function(){var t=this,e={endpoint:"walls",data:{title:"Ny vägg"},method:"post",successCallback:function(e){console.log(e),t.walls.push(e.data)},errorCallback:function(t){console.log("Du är inte inloggad. Logga in för att fortsätta."),console.log(t)}};this.$store.commit("makeAPICall",e)}},created:function(){},mounted:function(){this.getWallsStore()}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ViewWallList"},[n("kedja-header",[n("button",{on:{click:t.createWall}},[t._v("\n      + Ny vägg\n    ")])]),t._v(" "),n("h3",[t._v("Mina väggar")]),t._v(" "),n("div",{staticClass:"wallBoxes"},t._l(t.walls,function(e){return n("router-link-box",{key:e.rid,staticClass:"wallBox",attrs:{to:{name:"ViewWall",params:{wallId:e.rid}},color:"lightsteelblue"}},[n("h3",[t._v("\n        "+t._s(e.data.title)+"\n      ")])])}),1)],1)},staticRenderFns:[]};var R=n("VU/8")(U,A,!1,function(t){n("3G/U")},"data-v-9ef789ca",null).exports,W={name:"WrapperComponent",render:function(t){return t(this.tag,this.$slots.default)},props:{tag:{type:String,required:!0}}},T={name:"EditableInput",components:{WrapperComponent:n("VU/8")(W,null,!1,null,null,null).exports},props:{value:String,tag:"",placeholder:{default:"Ange text"},type:{default:"input"}},data:function(){return{editing:!1,textTemp:String,width:"",height:""}},computed:{inputVisible:function(){return this.editing||""===this.value}},watch:{},methods:{openEdit:function(){this.calcWidth(),this.editing=!0,this.textTemp=this.value,this.$nextTick(function(t){this.$refs.input.focus(),this.$refs.input.select()})},finishEdit:function(t){this.editing&&t&&this.emitToParent(),this.editing=!1},calcWidth:function(){this.$nextTick(function(){var t=this.$el.getElementsByClassName("textSpan")[0];t&&(this.width=t.offsetWidth,this.height=t.offsetHeight)})},emitToParent:function(){var t=""!==this.textTemp.trim()?this.textTemp:this.placeholder;this.$emit("input",t),this.$emit("change",t)}}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EditableInput",class:{fullWidth:t.inputVisible}},[n("wrapper-component",{staticClass:"text",attrs:{tag:t.tag,id:"eiTemp"}},[t.inputVisible?t._e():n("div",{staticClass:"textContainer",on:{click:function(e){return t.openEdit()}}},[n("span",{staticClass:"textSpan"},[t._v("\n        "+t._s(t.value)+"\n      ")])]),t._v(" "),t.inputVisible?n("div",["input"==t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.textTemp,expression:"textTemp"}],ref:"input",style:{height:t.height+"px"},attrs:{placeholder:t.placeholder},domProps:{value:t.textTemp},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.finishEdit(!1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEdit(!0)}],blur:function(e){return t.finishEdit(!0)},input:function(e){e.target.composing||(t.textTemp=e.target.value)}}}):t._e(),t._v(" "),"textarea"==t.type?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textTemp,expression:"textTemp"}],ref:"input",style:{width:t.width+"px",height:t.height+"px"},attrs:{placeholder:t.placeholder},domProps:{value:t.textTemp},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.finishEdit(!1)},blur:function(e){return t.finishEdit(!0)},change:t.calcWidth,input:function(e){e.target.composing||(t.textTemp=e.target.value)}}}):t._e()]):t._e()])],1)},staticRenderFns:[]};var V=n("VU/8")(T,F,!1,function(t){n("cn2l")},"data-v-21c50558",null).exports,L={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"CardButton",class:{active:this.active}},[this._t("default")],2)},staticRenderFns:[]};var N=n("VU/8")({name:"CardButton",data:function(){return{}},props:{active:!1},computed:{},methods:{},mounted:function(){}},L,!1,function(t){n("R2wf")},"data-v-7edb0861",null).exports,M={name:"Card",components:{EditableInput:V,CardButton:N,DropDown:r},data:function(){return{hovering:!1}},props:{card:"",prid:""},computed:{userState:function(){return this.$store.getters.getUserState},selected:function(){return"selectCard"===this.userState.name&&this.userState.data.rid===this.card.rid},selectedConnected:function(){return!0===this.card.states.selectedConnected},connectionsDirect:function(){return this.$store.getters.getDirectConnectionsByCardId(this.card.rid)},connectionsDeep:function(){return this.$store.getters.getDeepConnectionsByCardId(this.card.rid)},directConnectedCardIds:function(){var t=this,e=[];return this.connectionsDirect.forEach(function(n,o){n.members[0]!==t.card.rid&&-1===e.indexOf(n.members[0])&&e.push(n.members[0]),n.members[1]!==t.card.rid&&-1===e.indexOf(n.members[1])&&e.push(n.members[1])}),e},deepConnectedCardIds:function(){var t=this,e=[];return this.connectionsDeep.forEach(function(n,o){n.members[0]!==t.card.rid&&-1===e.indexOf(n.members[0])&&e.push(n.members[0]),n.members[1]!==t.card.rid&&-1===e.indexOf(n.members[1])&&e.push(n.members[1])}),e},connecting:function(){return!0===this.card.states.connecting},connected:function(){return!1},canConnect:function(){return this.card.states.canConnect}},watch:{userState:{deep:!0,handler:function(t){(this.resetStates(),"selectCard"===t.name&&(t.data.rid===this.card.rid?this.setState("selected",!0):-1!==this.deepConnectedCardIds.indexOf(t.data.rid)?this.setState("selectingConnected",!0):this.setState("selectingNotConnected",!0)),"connectCard"===t.name)&&(t.data.rid===this.card.rid?(this.setState("selected",!0),this.setState("connecting",!0)):-1!==this.directConnectedCardIds.indexOf(t.data.rid)?this.setState("connectingConnected",!0):this.$store.getters.getClosestCardCousins(this.card).find(function(e){return e.rid===t.data.rid})?this.setState("connectingNotConnected",!0):this.setState("connectingCantConnect",!0))}}},methods:{setState:function(t,e){this.card.states[t]=e},resetStates:function(){this.card.states={}},resetState:function(t){this.card.states[t]=void 0},clicked:function(){"connectCard"!==this.userState.name&&this.setSelected(),this.card.states.connecting&&this.setSelected(),this.card.states.connectingNotConnected&&this.connect(),this.card.states.connectingConnected&&this.unconnect()},setSelected:function(t){this.card.states.selected?this.$store.commit("resetUserState"):this.$store.commit("setUserState",{name:"selectCard",data:{rid:this.card.rid}})},toggleConnecting:function(){this.card.states.connecting?this.$store.commit("setUserState",{name:"selectCard",data:{rid:this.card.rid}}):this.$store.commit("setUserState",{name:"connectCard",data:{rid:this.card.rid}})},connect:function(){console.log("Connect");var t=this.$store.getters.getCardById(this.userState.data.rid);this.$emit("connect",{members:[t.rid,this.card.rid]})},unconnect:function(){console.log("Unconnect");var t=this.$store.getters.getCardById(this.userState.data.rid);this.$emit("unconnect",{members:[t.rid,this.card.rid]})},removeCard:function(){this.$store.commit("removeConnectionsByCardId",this.card.rid),this.$emit("removeCard",this.card)},updateTitle:function(t){var e={endpoint:"collections/"+this.prid+"/cards/"+this.card.rid,data:{title:t},method:"put",successCallback:function(t){console.log(t.data)}};this.$store.commit("makeAPICall",e)}},created:function(){this.$store.commit("initCard",this.card)},mounted:function(){}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Card",class:{selected:t.card.states.selected,selectingConnected:t.card.states.selectingConnected,selectingNotConnected:t.card.states.selectingNotConnected,selectedConnectedOther:0==t.card.states.selectedConnected,connectingConnected:t.card.states.connectingConnected,connectingNotConnected:t.card.states.connectingNotConnected,connectingCantConnect:t.card.states.connectingCantConnect,cannotConnect:0==t.canConnect&&!t.connecting,connectedOther:0==t.card.states.connected,connecting:t.connecting},on:{click:function(e){return e.stopPropagation(),t.clicked(e)}}},[n("div",{staticClass:"top"},[n("card-button",{attrs:{active:t.card.states.connecting},nativeOn:{click:function(e){return e.stopPropagation(),t.toggleConnecting(e)}}},[t._v("🔗")]),t._v(" "),n("drop-down",{attrs:{items:[{label:"Radera kort",f:t.removeCard}]}},[t._v("\n      ▿\n    ")])],1),t._v(" "),n("div",{staticClass:"main"},[n("EditableInput",{attrs:{tag:"h3"},on:{change:function(e){return t.updateTitle(e)}},model:{value:t.card.data.title,callback:function(e){t.$set(t.card.data,"title",e)},expression:"card.data.title"}})],1),t._v(" "),n("div",{staticClass:"bottom"})])},staticRenderFns:[]};var H={name:"Collection",components:{DropDown:r,Card:n("VU/8")(M,j,!1,function(t){n("5EnU")},"data-v-5280d316",null).exports,EditableInput:V},data:function(){return{hovering:!1}},computed:{cards:function(){return this.collection.cards},cardsFiltered:function(){return this.cards}},props:{collection:"",prid:""},methods:{removeCollection:function(){this.$emit("removeCollection",this.collection)},getCardsFromAPI:function(){var t=this,e={endpoint:"collections/"+this.collection.rid+"/cards",successCallback:function(e){t.$store.commit("setCollectionCards",{collection:t.collection,cards:e.data})}};this.$store.commit("makeAPICall",e)},createCard:function(){var t=this,e={endpoint:"collections/"+this.collection.rid+"/cards",data:{title:"Nytt kort"},method:"post",successCallback:function(e){console.log(e),t.cards.push(e.data)}};this.$store.commit("makeAPICall",e)},removeCard:function(t){var e=this,n={endpoint:"collections/"+this.collection.rid+"/cards/"+t.rid,method:"delete",successCallback:function(n){console.log(n);var o=e.collection.cards.indexOf(t);-1!==o&&e.collection.cards.splice(o,1)}};this.$store.commit("makeAPICall",n)},updateTitle:function(t){var e={endpoint:"walls/"+this.prid+"/collections/"+this.collection.rid,data:{title:t},method:"put",successCallback:function(t){console.log(t.data)}};this.$store.commit("makeAPICall",e)},connect:function(t){this.$emit("connect",t)},unconnect:function(t){this.$emit("unconnect",t)},handleScroll:function(){this.$store.commit("setDirtyDraw")}},created:function(){this.$store.commit("initCollection",this.collection)},mounted:function(){this.getCardsFromAPI(),this.$refs.collectionContent.addEventListener("scroll",this.handleScroll)}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Collection"},[n("div",{staticClass:"collectionHeader z1"},[n("drop-down",{attrs:{items:[{label:"Radera samling",f:t.removeCollection}]}},[n("EditableInput",{attrs:{tag:"h2"},on:{change:function(e){return t.updateTitle(e)}},model:{value:t.collection.data.title,callback:function(e){t.$set(t.collection.data,"title",e)},expression:"collection.data.title"}}),t._v(" ▿\n    ")],1)],1),t._v(" "),n("div",{ref:"collectionContent",staticClass:"collectionContent"},[n("transition-group",{staticClass:"cards",attrs:{name:"fade",mode:"out-in"}},t._l(t.cards,function(e){return n("card",{key:e.rid,attrs:{card:e,id:e.rid,prid:t.collection.rid,tabindex:"0"},on:{removeCard:t.removeCard,connect:t.connect,unconnect:t.unconnect}})}),1)],1),t._v(" "),n("div",{staticClass:"collectionFooter z1"},[n("button",{staticClass:"fullWidth",attrs:{title:"Lägg till nytt kort"},on:{click:t.createCard}},[t._v("+ Nytt kort")])])])},staticRenderFns:[]};var K=n("VU/8")(H,O,!1,function(t){n("mRU0")},"data-v-52cd8690",null).exports,z={name:"Collections",components:{Collection:K},data:function(){return{}},props:{collections:"",prid:""},computed:{dirtyDraw:function(){return this.$store.state.dirtyDraw}},watch:{},methods:{createCollection:function(){this.$emit("createCollection")},removeCollection:function(t){this.$emit("removeCollection",t)},connect:function(t){this.$emit("connect",t)},unconnect:function(t){this.$emit("unconnect",t)}},created:function(){},mounted:function(){this.$emit("mounted")}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"collections",staticClass:"Collections"},[t._l(t.collections,function(e){return n("collection",{key:e.rid,staticClass:"collection",attrs:{collection:e,prid:t.prid},on:{removeCollection:t.removeCollection,connect:t.connect,unconnect:t.unconnect}})}),t._v(" "),n("button",{staticClass:"new",attrs:{title:"Lägg till ny samling"},on:{click:t.createCollection}},[t._v("+ Ny samling")])],2)},staticRenderFns:[]};var q={name:"Connection",data:function(){return{loaded:!1,x0:"",y0:"",x1:"",y1:""}},props:{connection:"",dirtyDraw:!1},computed:{yMin:function(){return this.$store.state.connectionBounds.y},yMax:function(){return this.$store.state.connectionBounds.y+this.$store.state.connectionBounds.height},height:function(){return this.yMax-this.yMin},from:function(){return this.connection.members[0]},to:function(){return this.connection.members[1]},width:function(){return Math.abs(this.x1-this.x0)},left:function(){return Math.min(this.x0,this.x1)},top:function(){return Math.min(this.y0,this.y1)}},watch:{dirtyDraw:function(t){t&&this.redraw()}},methods:{firstDraw:function(){var t=document.getElementById(this.from),e=document.getElementById(this.to);t&&e?this.$store.commit("setDirtyDraw"):setTimeout(this.firstDraw,100)},redraw:function(){this.setBounds(),this.drawCanvas()},setBounds:function(){if(document.getElementById(this.from)&&document.getElementById(this.to)){var t=document.getElementById(this.from),e=document.getElementById(this.to),n=void 0,o=void 0;t.getBoundingClientRect().x<e.getBoundingClientRect().x?(n=t,o=e):(n=e,o=t),this.x0=n.getBoundingClientRect().x+n.getBoundingClientRect().width,this.y0=n.getBoundingClientRect().y-this.yMin+n.getBoundingClientRect().height/2,this.x1=o.getBoundingClientRect().x,this.y1=o.getBoundingClientRect().y-this.yMin+o.getBoundingClientRect().height/2}},drawCanvas:function(){var t=this.$el.getElementsByTagName("canvas")[0],e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.lineWidth=6,e.strokeStyle="#ffffff",e.beginPath();var n=this.y0,o=this.y1;e.moveTo(0,n),e.lineTo(this.width,o),e.stroke(),e.fillStyle="#ffdc27",e.beginPath(),e.arc(0,n,15,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(this.width,o,15,0,2*Math.PI),e.fill()}},created:function(){this.$store.commit("initConnection",this.connection)},mounted:function(){this.firstDraw()},updated:function(){this.redraw()}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Connection z0",style:{top:this.yMin+"px",left:this.left+"px"}},[e("canvas",{staticClass:"canvasConnection",attrs:{width:this.width,height:this.height}})])},staticRenderFns:[]};var G={name:"Connections",data:function(){return{loaded:!1,bounds:{},scroll:{}}},props:{connections:"",boundsElementId:""},computed:{userState:function(){return this.$store.getters.getUserState},dirtyDraw:function(){return this.$store.state.dirtyDraw},connectionCards:function(){var t=this,e=[];return this.connections.forEach(function(n){e.push({members:[t.$store.getters.getCardById(n.members[0]),t.$store.getters.getCardById(n.members[1])]})}),e}},watch:{dirtyDraw:function(t){this.redraw()}},methods:{firstDraw:function(){document.getElementById(this.boundsElementId)?this.$store.commit("setDirtyDraw"):setTimeout(this.firstDraw,100)},redraw:function(){this.setBounds(),this.drawCanvas()},setBounds:function(){var t=this.$el.getElementsByTagName("canvas")[0];t.width=this.$el.clientWidth,t.height=this.$el.clientHeight,this.bounds=document.getElementById(this.boundsElementId).getBoundingClientRect(),this.scroll={left:document.getElementById(this.boundsElementId).scrollLeft,top:document.getElementById(this.boundsElementId).scrollTop}},drawCanvas:function(){var t=this,e=this.$el.getElementsByTagName("canvas")[0],n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),this.connectionCards.forEach(function(e){t.drawConnection(n,e)})},drawConnection:function(t,e){var n=document.getElementById(e.members[0].rid),o=document.getElementById(e.members[1].rid);if(n&&o){var a=e.members[0],i=e.members[1],s=void 0,r=void 0,c=void 0,l=void 0;n.getBoundingClientRect().x<o.getBoundingClientRect().x?(s=n,r=o,c=a.states.selected||a.states.selectingConnected||a.states.connectingConnected,l=i.states.selected||i.states.selectingConnected||i.states.connectingConnected):(s=o,r=n,c=i.states.selected||i.states.selectingConnected||i.states.connectingConnected,l=a.states.selected||a.states.selectingConnected||a.states.connectingConnected);var d=s.getBoundingClientRect().x+s.getBoundingClientRect().width-this.bounds.x+this.scroll.left,u=s.getBoundingClientRect().y+s.getBoundingClientRect().height/2-this.bounds.y,m=r.getBoundingClientRect().x-this.bounds.x+this.scroll.left,f=r.getBoundingClientRect().y+r.getBoundingClientRect().height/2-this.bounds.y;t.lineWidth=5,t.strokeStyle="#ffff","selectCard"!==this.userState.name&&"connectCard"!==this.userState.name||c&&l||(t.lineWidth=1,t.strokeStyle="#fff5"),t.beginPath(),t.moveTo(d+5,u),t.lineTo(m-5,f),t.stroke(),t.fillStyle="default"===this.userState.name||c?"#ffdc27":"#ffdc2722",t.beginPath(),t.arc(d,u,c?15:10,-Math.PI/2,Math.PI/2),t.fill(),t.fillStyle="default"===this.userState.name||l?"#ffdc27":"ffdc2722",t.beginPath(),t.arc(m,f,l?15:10,Math.PI/2,-Math.PI/2),t.fill()}},getCardById:function(t){return this.$store.getters.getCardById(t)}},created:function(){},mounted:function(){setTimeout(this.firstDraw,1e3)},updated:function(){}},Q={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Connections"},[e("canvas",{staticClass:"canvasConnection"})])}]};var X={name:"Wall",components:{KedjaHeader:d,DropDown:r,Collections:n("VU/8")(z,J,!1,function(t){n("bbho")},"data-v-3b3c1011",null).exports,Collection:K,Connection:n("VU/8")(q,Y,!1,function(t){n("fYIR")},"data-v-1ed4452d",null).exports,Connections:n("VU/8")(G,Q,!1,function(t){n("pJdQ")},"data-v-01c288d8",null).exports,EditableInput:V},data:function(){return{}},props:{wall:""},computed:{userState:function(){return this.$store.getters.getUserState},data:function(){return this.wall.data},collections:function(){return this.wall.collections},connections:function(){return this.wall.connections}},watch:{wall:function(){this.$store.commit("initWall",this.wall),this.getCollectionsFromAPI(),this.getConnectionsFromAPI()},collections:function(){}},methods:{getCollectionsFromAPI:function(){var t=this,e=this.$route.params.wallId;if(e){var n={endpoint:"walls/"+e+"/collections",successCallback:function(e){t.$store.commit("setWallCollections",{wall:t.wall,collections:e.data})}};this.$store.commit("makeAPICall",n)}},getConnectionsFromAPI:function(){var t=this,e=this.$route.params.wallId;if(e){var n={endpoint:"walls/"+e+"/relations",successCallback:function(e){t.$store.commit("setWallConnections",{wall:t.wall,connections:e.data})}};this.$store.commit("makeAPICall",n)}},getWallLocal:function(){this.wall=this.$store.getters.getActiveWall()},createCollection:function(){var t=this,e={endpoint:"walls/"+this.wall.rid+"/collections",data:{title:"Ny samling"},method:"post",successCallback:function(e){t.collections.push(e.data)}};this.$store.commit("makeAPICall",e)},removeWall:function(){var t=this,e={endpoint:"walls/"+this.wall.rid,method:"delete",successCallback:function(e){t.$router.push({name:"Walls"})}};this.$store.commit("makeAPICall",e)},removeCollection:function(t){var e=this,n={endpoint:"walls/"+this.wall.rid+"/collections/"+t.rid,method:"delete",successCallback:function(n){console.log(n);var o=e.wall.collections.indexOf(t);-1!==o&&e.wall.collections.splice(o,1)}};this.$store.commit("makeAPICall",n)},updateTitle:function(t){var e={endpoint:"walls/"+this.wall.rid,data:{title:t},method:"put",successCallback:function(t){}};this.$store.commit("makeAPICall",e)},connect:function(t){var e=this;console.log(t.members);var n={endpoint:"walls/"+this.wall.rid+"/relations",data:t,method:"post",successCallback:function(t){console.log(t),e.wall.connections.push(t.data),e.$store.commit("forceUserStateUpdate")}};this.$store.commit("makeAPICall",n)},unconnect:function(t){var e=this;console.log(t.members);var n=this.wall.connections.filter(function(e){return-1!==e.members.indexOf(t.members[0])&&-1!==e.members.indexOf(t.members[1])})[0],o={endpoint:"walls/"+this.wall.rid+"/relations/"+n.relation_id,method:"delete",successCallback:function(t){var o=e.wall.connections.indexOf(n);console.log(o),console.log(n.relation_id),console.log(e.wall.connections),-1!==o&&(e.wall.connections.splice(o,1),e.$store.commit("forceUserStateUpdate")),console.log(e.wall.connections)}};this.$store.commit("makeAPICall",o)},handleScroll:function(){this.$store.commit("setDirtyDraw")},collectionsMounted:function(){this.$refs.colls.addEventListener("scroll",this.handleScroll)}},created:function(){},mounted:function(){},updated:function(){}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Wall"},[n("div",{staticClass:"wallHeader"},[n("drop-down",{attrs:{items:[{label:"Radera vägg",f:t.removeWall}]}},[n("EditableInput",{attrs:{tag:"h2"},on:{change:function(e){return t.updateTitle(e)}},model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}}),t._v(" ▿\n    ")],1)],1),t._v(" "),n("div",{ref:"wallContent",staticClass:"wallContent"},[n("div",{ref:"colls",attrs:{id:"collections"}},[n("div",{staticClass:"horisontal-scroll-wrapper"},[n("collections",{attrs:{collections:t.collections,prid:t.wall.rid},on:{createCollection:t.createCollection,removeCollection:t.removeCollection,connect:t.connect,unconnect:t.unconnect,mounted:t.collectionsMounted}}),t._v(" "),n("connections",{staticClass:"connections",attrs:{connections:t.connections,boundsElementId:"collections"}})],1)])]),t._v(" "),n("div",{staticClass:"wallFooter"})])},staticRenderFns:[]};var tt=n("VU/8")(X,Z,!1,function(t){n("ynx4")},"data-v-6ac08be1",null).exports,et={name:"ContextMenuCard",components:{CardButton:N},data:function(){return{}},props:{card:""},computed:{collection:function(){return this.$store.getters.getCollectionByCard(this.card)}},methods:{updateTitle:function(t){var e={endpoint:"collections/"+this.collection.rid+"/cards/"+this.card.rid,data:{title:this.card.data.title},method:"put",successCallback:function(t){console.log(t.data)}};this.$store.commit("makeAPICall",e)},removeCard:function(){var t=this,e={endpoint:"collections/"+this.collection.rid+"/cards/"+this.card.rid,method:"delete",successCallback:function(e){var n=t.collection.cards.indexOf(t.card);-1!==n&&(t.$store.commit("removeConnectionsByCardId",t.card.rid),t.collection.cards.splice(n,1))}};this.$store.commit("makeAPICall",e)}},mounted:function(){}},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ContextMenuCard"},[n("div",{staticClass:"header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.card.data.title,expression:"card.data.title"}],staticClass:"h3",domProps:{value:t.card.data.title},on:{change:function(e){return t.updateTitle()},input:function(e){e.target.composing||t.$set(t.card.data,"title",e.target.value)}}}),t._v(" "),n("card-button",{nativeOn:{click:function(e){return t.removeCard()}}},[t._v("🗑️")])],1),t._v(" "),n("hr"),t._v(" "),n("h3",[t._v("\n    Beskrivning\n  ")]),t._v(" "),n("p",[t._v("(Kommande funktion)")]),t._v(" "),n("h3",[t._v("\n    Åtgärder\n  ")]),t._v(" "),n("p",[t._v("(Kommande funktion)")]),t._v(" "),n("h3",[t._v("Kommentarer")]),t._v(" "),n("p",[t._v("(Kommande funktion)")])])},staticRenderFns:[]};var ot={name:"ContextMenu",components:{ContextMenuCard:n("VU/8")(et,nt,!1,function(t){n("yy44")},"data-v-008e2262",null).exports},data:function(){return{forceClose:!1}},props:{value:""},computed:{userState:function(){return this.$store.state.userState},card:function(){if("selectCard"===this.userState.name)return this.$store.getters.getCardById(this.userState.data.rid)},hasContent:function(){return this.card}},watch:{hasContent:function(t){this.emitData(t)}},methods:{emitData:function(t){var e=!this.forceClose&&t;this.$emit("input",e)},toggleForceClose:function(){this.forceClose=!this.forceClose}},mounted:function(){}},at={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ContextMenu",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"menuContent"},[this.card?e("div",[e("ContextMenuCard",{attrs:{card:this.card}})],1):this._e()])])},staticRenderFns:[]};var it={name:"ViewWall",components:{KedjaHeader:d,Wall:tt,ContextMenu:n("VU/8")(ot,at,!1,function(t){n("LOFr")},"data-v-25d2a766",null).exports},data:function(){return{}},props:{},computed:{wall:function(){return this.$store.getters.getActiveWall()}},methods:{getWallFromParam:function(){var t=this,e=this.$route.params.wallId;if(e){var n={endpoint:"walls/"+e,successCallback:function(e){t.$store.commit("setActiveWall",{wall:e.data})}};this.$store.commit("makeAPICall",n)}},createCollection:function(){var t=this,e={endpoint:"walls/"+this.wall.rid+"/collections",data:{title:"Ny samling"},method:"post",successCallback:function(e){console.log(e),t.wall.collections.push(e.data)}};this.$store.commit("makeAPICall",e)},resetUserState:function(){this.$store.commit("resetUserState")}},mounted:function(){this.getWallFromParam()}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ViewWall",on:{click:this.resetUserState}},[e("kedja-header"),this._v(" "),e("div",{staticClass:"content"},[e("wall",{staticClass:"mywall",attrs:{wall:this.wall}})],1)],1)},staticRenderFns:[]};var rt=n("VU/8")(it,st,!1,function(t){n("wwTI")},"data-v-54286869",null).exports,ct={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ComponentTemplate"},[n("div",{staticClass:"outer"},[n("div",{staticClass:"content"},[n("div",{staticClass:"item"},[t._v("\n        Item\n      ")]),t._v(" "),n("div",{staticClass:"item"},[t._v("\n        Item\n      ")]),t._v(" "),n("div",{staticClass:"item"},[t._v("\n        Item\n      ")]),t._v(" "),n("div",{staticClass:"item"},[t._v("\n        Item\n      ")])]),t._v(" "),n("div",{staticClass:"overlay"})])])}]};var lt=n("VU/8")({name:"ComponentTemplate",data:function(){return{}},props:{},computed:{},methods:{},mounted:function(){}},ct,!1,function(t){n("yzii")},"data-v-7c99c426",null).exports;o.a.use(g.a);var dt=new g.a({mode:"history",routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:y},{path:"/logging_in",name:"LoggingIn",component:I},{path:"/register",name:"Register",component:D},{path:"/home",name:"Home",component:C},{path:"/profile",name:"Profile",component:B},{path:"/walls",name:"Walls",component:R},{path:"/walls/:wallId",name:"ViewWall",component:rt},{path:"/scrollTest",name:"ScrollTest",component:lt}]}),ut=n("NYxO"),mt=n("mtWM"),ft=n.n(mt),ht={namespaced:!0,modules:{collections:{namespaced:!0,modules:{cards:{namespaced:!0,modules:{},state:{},getters:{},actions:{},mutations:{}}},state:{},getters:{},actions:{},mutations:{}}},state:{walls:""},getters:{all:function(t){return t.walls}},actions:{getWalls:function(t){t.dispatch("makeAPICall",{endpoint:"walls"},{root:!0}).then(function(e){t.commit("setWalls",e)},function(t){console.log(t)}).catch(function(t){console.log(t)})}},mutations:{setWalls:function(t,e){t.walls=e.data}}},gt=this;o.a.use(ut.a);var vt=new ut.a.Store({modules:{walls:ht},state:{env:{},walls:[],activeWallId:0,activeWall:"",connections:[],tabIndexCounter:0,connectionBounds:"",userState:"",auth:"",userid:"",userData:{},dirtyDraw:!0},mutations:{init:function(t,e){var n=e.env;o.a.set(t,"env",n),vt.commit("setUserDataFromLocalStorage"),vt.commit("setDirtyDraw")},setUserDataFromLocalStorage:function(t){"undefined"!=typeof Storage?(o.a.set(t.userData,"auth",localStorage.getItem("auth")),o.a.set(t.userData,"userid",localStorage.getItem("userid")),o.a.set(t.userData,"first_name",localStorage.getItem("first_name")),o.a.set(t.userData,"last_name",localStorage.getItem("last_name"))):console.log("No local storage support")},resetUserState:function(t){vt.commit("setUserState",{name:"default"})},setUserState:function(t,e){var n=e.name,o=e.data;vt.commit("setDirtyDraw"),t.userState={name:n,data:o||{},rand:Math.random()}},forceUserStateUpdate:function(t){vt.commit("setDirtyDraw"),t.userState.rand=Math.random()},setActiveWall:function(t,e){var n=e.wall;t.activeWall=n},setWallCollections:function(t,e){var n=e.wall,a=e.collections;o.a.set(n,"collections",a)},setWallConnections:function(t,e){var n=e.wall,a=e.connections;o.a.set(n,"connections",a)},setCollectionCards:function(t,e){var n=e.collection,a=e.cards;o.a.set(n,"cards",a)},setConnections:function(t,e){var n=e.connections;t.connections=n},initWall:function(t,e){o.a.set(e,"collections",[]),o.a.set(e,"connections",[]),o.a.set(e,"dirtyDraw",!1)},initCollection:function(t,e){o.a.set(e,"cards",[])},initCard:function(t,e){o.a.set(e,"states",{})},initConnection:function(t,e){o.a.set(e,"dirtyDraw",!1)},setDirtyDraw:function(t){o.a.set(t,"dirtyDraw",!0),o.a.nextTick().then(function(){o.a.set(t,"dirtyDraw",!1)})},setDeepConnectionsByCardId:function(t,e){var n=e.id;console.log("Set deep connections"),t.connections=vt.getters.getDeepConnectionsByCardId(n)},resetConnections:function(t){console.log("Reset connections"),t.connections=[],console.log(t.connections.length)},setCanConnectByCardId:function(t,e){var n=e.id,o=vt.getters.getCollectionByCardId(n);console.log(o);var a=vt.getters.getActiveWall(),i=vt.getters.getClosestArraySiblings(a.collections,o);console.log(i),i.forEach(function(t,e){t&&t.cards.forEach(function(t,e){vt.commit("setCardState",{card:t,stateName:"connectingCanConnect",stateFlag:!0})})})},removeConnectionsByCardId:function(t,e){var n=vt.getters.getActiveWall();console.log(n.connections),o.a.set(n,"connections",n.connections.filter(function(t){return-1===t.members.indexOf(e)})),console.log(n.connections),vt.commit("forceUserStateUpdate")},makeAPICall:function(t,e){var n=e.method||"get",o=e.errorCallback||function(t){console.log(t)};ft()({method:n,url:t.env.API_SERVER+t.env.API_PATH+e.endpoint,headers:{Authorization:vt.getters.getUserData.auth},params:e.params,data:e.data}).then(e.successCallback,o).catch(function(t){console.log(t)})},errorCallback:function(t,e){console.log("Error"),console.log(e)}},actions:{setUserData:function(t,e){var n=e.field,o=e.value;"undefined"!=typeof Storage?localStorage.setItem(n,o):console.log("No local storage support"),t.commit("setUserDataFromLocalStorage")},login:function(t,e){var n=e.auth,o=e.userid,a=e.first_name,i=e.last_name;"undefined"!=typeof Storage?(t.dispatch("setUserData",{field:"auth",value:n}),t.dispatch("setUserData",{field:"userid",value:o}),t.dispatch("setUserData",{field:"first_name",value:a}),t.dispatch("setUserData",{field:"last_name",value:i})):console.log("No local storage support"),t.commit("setUserDataFromLocalStorage")},logout:function(t){"undefined"!=typeof Storage?(localStorage.removeItem("auth"),localStorage.removeItem("userid"),localStorage.removeItem("first_name"),localStorage.removeItem("last_name")):console.log("No local storage support"),t.commit("setUserDataFromLocalStorage")},setUserProfileFromAPI:function(t){var e={endpoint:"users/"+gt.userData.userid,successCallback:function(e){"undefined"!=typeof Storage?(gt.$store.dispatch("setUserData",{field:"first_name",value:e.data.data.first_name}),gt.$store.dispatch("setUserData",{field:"last_name",value:e.data.data.last_name})):console.log("No local storage support"),t.commit("setUserDataFromLocalStorage")}};gt.$store.commit("makeAPICall",e)},checkAuth:function(t){t.getters.getAuth},makeAPICall:function(t,e){var n=e.method?e.method:"get";return ft()({method:n,url:t.state.env.API_SERVER+t.state.env.API_PATH+e.endpoint,headers:{Authorization:vt.getters.getUserData.auth},params:e.params,data:e.data})}},getters:{getUserData:function(t){return t.userData},getUserState:function(t){return t.userState},getUserInitials:function(t){},getActiveWall:function(t){return function(){return t.activeWall}},getCardById:function(t){return function(t){var e=void 0;return vt.getters.getActiveWall().collections.forEach(function(n,o){if(n.cards){var a=n.cards.find(function(e){return e.rid===t});a&&(e=a)}}),e}},getCardsByIds:function(t){return function(t){var e=[];return vt.getters.getActiveWall().collections.forEach(function(n,o){e=e.concat(n.cards.filter(function(e){return-1!==t.indexOf(e.rid)}))}),e}},getCardsByIdsInverted:function(t){return function(t){var e=[];return vt.getters.getActiveWall().collections.forEach(function(n,o){e=e.concat(n.cards.filter(function(e){return-1===t.indexOf(e.rid)}))}),e}},getCardsInverted:function(t){return function(t){var e=[];return vt.getters.getActiveWall().collections.forEach(function(n,o){e=e.concat(n.cards.filter(function(e){return-1===t.indexOf(e)}))}),e}},getClosestCardCousins:function(t){return function(t){var e=vt.getters.getCollectionByCard(t),n=vt.getters.getActiveWall(),o=[];return vt.getters.getClosestArraySiblings(n.collections,e).forEach(function(t,e){t&&(o=o.concat(t.cards))}),o}},getCollectionByCard:function(t){return function(t){return vt.getters.getActiveWall().collections.find(function(e){return-1!==e.cards.indexOf(t)})}},getCollectionArrayIdByCardId:function(t){return function(t){return vt.getters.getActiveWall().collections.findIndex(function(e){return e.cards.find(function(e){return e.rid===t})})}},getCardsByState:function(t){return function(t){var e=[];return vt.getters.getActiveWall().collections.forEach(function(n,o){e=e.concat(n.cards.filter(function(e){return e.states[t]}))}),e}},getDirectConnectionsByCardId:function(t){return function(t){var e=vt.getters.getActiveWall();return e.connections?e.connections.filter(function(e){return-1!==e.members.indexOf(t)}):[]}},getDeepConnectionsByCardId:function(t){return function(t){var e=vt.getters.getActiveWall().connections,n=vt.getters.getRecursiveConnectionsByCardId(e,t,!0);return n=n.concat(vt.getters.getRecursiveConnectionsByCardId(e,t,!1))}},getRecursiveConnectionsByCardId:function(t){return function(t,e,n){if(!t)return[];var o=[],a=[];t.filter(function(t){return-1!==t.members.indexOf(e)}).forEach(function(t){var i=vt.getters.getCollectionArrayIdByCardId(t.members[0]),s=vt.getters.getCollectionArrayIdByCardId(t.members[1])>i?1:0,r=+!t.members.indexOf(e);n===(s===r)&&(o.push(t.members[r]),a.push(t))});var i=[];return o.forEach(function(e){i=i.concat(vt.getters.getRecursiveConnectionsByCardId(t,e,n))}),a=a.concat(i)}},getClosestArraySiblings:function(t){return function(t,e){if(!t)return[];var n=[void 0,void 0],o=t.indexOf(e);return o>0&&(n[0]=t[o-1]),o<t.length-1&&(n[1]=t[o+1]),n}},getTreeById:function(t){return function(t){}},getWalls:function(t){return function(){return t.walls}}}});o.a.config.productionTip=!1,new o.a({el:"#app",router:dt,store:vt,components:{App:h},template:"<App/>"})},Ntpp:function(t,e){},R2wf:function(t,e){},WkPT:function(t,e){},bbho:function(t,e){},cn2l:function(t,e){},fYIR:function(t,e){},hTvv:function(t,e){},mRU0:function(t,e){},pJdQ:function(t,e){},v0MC:function(t,e){},wwTI:function(t,e){},ynx4:function(t,e){},yy44:function(t,e){},yzii:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ac7ed41f6882aeafcbd5.js.map